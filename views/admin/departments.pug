script(type="text/javascript", src="/js/userdepts.js")

- var currDepts = []

p: b Department/Program Membership

div.row
  p.col.s10.offset-s1
    b Current Departments:

div.row.departments
  if departments.length
    ul.collection.col.s10.offset-s1.m8.offset-m1.l6.offset-l1
      each dept in departments
        - currDepts.push({group_id: dept.group_id, name: dept.name})
        li.collection-item
          div= dept.name
            a.secondary-content.red-text.text-darken-4.deldept(href="#!", data-deptid=dept.group_id, data-deptname=dept.name)
              i.material-icons remove_circle
  else
    p Not currently a member of any departments or programs

div.row
  p.col.s10.offset-s1
    b Add a Department:
div.row
  select#deptlist.browser-default.col.s10.offset-s1.m8.offset-m1.l6.offset-l1(name="deptlist")
    option(value="", disabled, selected) Choose from:
    each d in alldepts
      if _.findWhere(currDepts, {group_id: d.id})
        option(value=d.id, disabled)= d.name
      else
        option(value=d.id)= d.name
  button#deptadd.btn.blue.darken-4.waves-effect.waves-light(style="margin-left: 10px") Add

include ../popups.pug
