extends template

block content
  div.row.s0.m12
    div.col.s12
      h4 #{pers.first_name} 
        if pers.middle_name
          | #{pers.middle_name} 
        | #{pers.last_name}
  div.row.s12.hide-on-med-and-up
    div.valign-wrapper
      div.col.s3
        img.responsive-img.circle(data-usertype=pers.user_type, src=appconf.imgrootdir + pers.image + appconf.defimgext, alt=pers.first_name + " " + pers.last_name)
      div.col.s9
        h4 #{pers.first_name} 
          if pers.middle_name
            | #{pers.middle_name} 
          | #{pers.last_name}

  div.row
    div.col.hide-on-small-only.m3.z-depth-2.detail-profile-sidebar.person-profile-sidebar
      div.col.s3.m12.center-align
        img.responsive-img.circle(data-usertype=pers.user_type, src=appconf.imgrootdir + pers.image + appconf.defimgext, alt=pers.first_name + " " + pers.last_name)
      if pers.pen_names.length
        div.col.s3.m12
          p.person-profile-section.blue.darken-4.white-text Published As
          table
          each pn in pers.pen_names
            if pn
              tr
                td= pn
      
      if pers.memberships.length
        div.col.s3.m12
          p.person-profile-section.blue.darken-4.white-text Departments &amp; Programs
          table.highlight
          each dept in pers.memberships
            if dept
              tr
                td
                  a(href="/departments/" + dept.id)= dept.name
              
      if coauthors.length
        div.col.s3.m12
          p.person-profile-section.blue.darken-4.white-text #{appconf.orgshortname} Co-Authors
          table.highlight
          each ca in coauthors
            tr
              td.contributor
                a(href="/people/" + ca.id)= ca.name

      div.col.s3.m12
        p.person-profile-section.blue.darken-4.white-text Journals
        table.highlight
        each detail in pub_count
          tr
            td.publication 
              a(href="/publications/" + detail.pubid) #{detail.name} (#{detail.count})
          
    div.col.s12.m9.detail-works
      include works_block.pug
